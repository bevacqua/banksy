!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var n;n="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,n.banksy=e()}}(function(){return function e(n,t,o){function r(f,u){if(!t[f]){if(!n[f]){var a="function"==typeof require&&require;if(!u&&a)return a(f,!0);if(i)return i(f,!0);var c=new Error("Cannot find module '"+f+"'");throw c.code="MODULE_NOT_FOUND",c}var d=t[f]={exports:{}};n[f][0].call(d.exports,function(e){var t=n[f][1][e];return r(t?t:e)},d,d.exports,e,n,t,o)}return t[f].exports}for(var i="function"==typeof require&&require,f=0;f<o.length;f++)r(o[f]);return r}({1:[function(e,n){"use strict";function t(e,n){function t(){r(!0),y.destroy()}function r(e){var n=e?"remove":"add";o[n](w.editable,"horsey-filter",u),o[n](w.textarea,"woofmark-mode-change",i)}function i(){w.mode!==l&&y.retarget("wysiwyg"===w.mode?w.editable:w.textarea),l=w.mode}function f(e){var n=/^<p>|<\/p>\n?$/g;return"markdown"!==w.mode?w.parseMarkdown(e).replace(n,""):e}function u(){w.runCommand(function(e){var n=e.before+e.selection,t=!1,o=n.length;if(v)for(;t===!1&&o>=0;)p=n.substr(o-1,n.length-o+1),t=v.test(p),o--;t===!1&&(p=null),s=e})}function a(e){var n=f(e);y.defaultAppendText(n)}function c(e){function n(n){for(var t=f(e),o=s.before,r=o.length-1;r>0&&(!b||!b.test(o));)o=o.substr(0,--r);n.before=o.substr(0,r)+t+"&nbsp;",n.after=s.selection+s.after,n.selection=""}w.runCommand(n)}function d(e,n){return p?{input:p,suggestion:n}:void 0}var l,s,p,v,b,m=n||{},w=m.editor,y=m.horse;return y.anchor&&(v=new RegExp("^"+y.anchor),b=new RegExp(y.anchor+"$")),y.appendText=a,y.appendHTML=c,y.filterAnchoredHTML=d,r(),{destroy:t}}var o=e("crossvent");t.find=find,n.exports=t},{crossvent:3}],2:[function(e,n){(function(e){function t(){try{var e=new o("cat",{detail:{foo:"bar"}});return"cat"===e.type&&"bar"===e.detail.foo}catch(n){}return!1}var o=e.CustomEvent;n.exports=t()?o:"function"==typeof document.createEvent?function(e,n){var t=document.createEvent("CustomEvent");return n?t.initCustomEvent(e,n.bubbles,n.cancelable,n.detail):t.initCustomEvent(e,!1,!1,void 0),t}:function(e,n){var t=document.createEventObject();return t.type=e,n?(t.bubbles=Boolean(n.bubbles),t.cancelable=Boolean(n.cancelable),t.detail=n.detail):(t.bubbles=!1,t.cancelable=!1,t.detail=void 0),t}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],3:[function(e,n){(function(t){"use strict";function o(e,n,t,o){return e.addEventListener(n,t,o)}function r(e,n,t){return e.attachEvent("on"+n,c(e,n,t))}function i(e,n,t,o){return e.removeEventListener(n,t,o)}function f(e,n,t){return e.detachEvent("on"+n,d(e,n,t))}function u(e,n,t){function o(){var e;return v.createEvent?(e=v.createEvent("Event"),e.initEvent(n,!0,!0)):v.createEventObject&&(e=v.createEventObject()),e}function r(){return new s(n,{detail:t})}var i=-1===p.indexOf(n)?r():o();e.dispatchEvent?e.dispatchEvent(i):e.fireEvent("on"+n,i)}function a(e,n,o){return function(n){var r=n||t.event;r.target=r.target||r.srcElement,r.preventDefault=r.preventDefault||function(){r.returnValue=!1},r.stopPropagation=r.stopPropagation||function(){r.cancelBubble=!0},r.which=r.which||r.keyCode,o.call(e,r)}}function c(e,n,t){var o=d(e,n,t)||a(e,n,t);return w.push({wrapper:o,element:e,type:n,fn:t}),o}function d(e,n,t){var o=l(e,n,t);if(o){var r=w[o].wrapper;return w.splice(o,1),r}}function l(e,n,t){var o,r;for(o=0;o<w.length;o++)if(r=w[o],r.element===e&&r.type===n&&r.fn===t)return o}var s=e("custom-event"),p=e("./eventmap"),v=document,b=o,m=i,w=[];t.addEventListener||(b=r,m=f),n.exports={add:b,remove:m,fabricate:u}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./eventmap":4,"custom-event":2}],4:[function(e,n){(function(e){"use strict";var t=[],o="",r=/^on/;for(o in e)r.test(o)&&t.push(o.slice(2));n.exports=t}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[1])(1)});